<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Visualization</title>

<script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>







<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">My Data Analysis Portfolio</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="./aboutme.html">About Me</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Projects
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Basics</li>
    <li>
      <a href="./rcoding.html">R Coding</a>
    </li>
    <li>
      <a href="./visualization.html">Visualization</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">TidyTuesday</li>
    <li>
      <a href="./tidytuesday.html">Tidy Tuesday</a>
    </li>
    <li>
      <a href="./tidytuesday_exercise2.html">Tidy Tuesday 2</a>
    </li>
    <li class="divider"></li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Analysis Project
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Influenza Analysis</li>
    <li>
      <a href="./Flu00.html">Introduction and Background</a>
    </li>
    <li>
      <a href="./Flu01.html">Data &amp; Exploration</a>
    </li>
    <li>
      <a href="./Flu02.html">TidyModels Analysis I</a>
    </li>
    <li>
      <a href="./Flu03.html">TidyModels Analysis II</a>
    </li>
    <li>
      <a href="./Flu04.html">Machine Learning Models</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/MoChan2021/MonicaChan-MADA-portfolio">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Visualization</h1>

</div>


<div id="original-graphic" class="section level1">
<h1>Original Graphic</h1>
<p><img src="docs/OrigViz.PNG⁩" alt="Original Graphic" /> <img src="https://github.com/MoChan2021/MonicaChan-MADA-portfolio/blob/49be3a10e92fe5470b78c0c8321bedd201e3d8ad/OrigViz.png?raw=TRUE⁩" alt="Original Graphic" /></p>
<p><img src="docs/ReplicatePlot.PNG⁩" alt="initial try" /> <img src="https://github.com/MoChan2021/MonicaChan-MADA-portfolio/blob/352d0a75e228fed5cbfecfbc5887d6f2b7b614b7/docs/ReplicatePlot.png?raw=TRUE⁩" alt="initial try" /></p>
<p>UPDATED - Tried adding text</p>
<p><img src="P1.PNG⁩" alt="Annotate" /> <img src="https://github.com/MoChan2021/MonicaChan-MADA-portfolio/blob/352d0a75e228fed5cbfecfbc5887d6f2b7b614b7/docs/P1.png?raw=TRUE" alt="Annotate" /></p>
<p><img src="P2.PNG⁩" alt="DirectLabs" /> <img src="https://github.com/MoChan2021/MonicaChan-MADA-portfolio/blob/352d0a75e228fed5cbfecfbc5887d6f2b7b614b7/docs/P2.png?raw=TRUE⁩" alt="DirectLabs" /></p>
</div>
<div id="source-target-visualization-and-data" class="section level1">
<h1>Source Target Visualization and Data</h1>
<p>FiveThirtyEight’s Article: <a href="https://projects.fivethirtyeight.com/coronavirus-polls/">“How Americans View Biden’s Response To The Coronavirus Crisis”</a></p>
<ul>
<li>Specifically the Covid Infection Concern of the US.</li>
</ul>
<p>Data accessible from button below the graphic. <a href="https://github.com/fivethirtyeight/covid-19-polls/archive/master.zip">“HERE”</a></p>
</div>
<div id="data-wrangling-in-r" class="section level1">
<h1>Data wrangling in R</h1>
<div id="loading-libraries" class="section level2">
<h2>Loading libraries:</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span></code></pre></div>
</div>
<div id="import-csv-files-from-fivethirtyeight-and-make-into-objectes" class="section level2">
<h2>Import CSV files from FiveThirtyEight and make into objectes:</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>CovidConcern<span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;docs/data/covid-19-polls-master/covid_concern_polls.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 678 Columns: 15</code></pre>
<pre><code>## -- Column specification --------------------------------------------------------
## Delimiter: &quot;,&quot;
## chr  (7): pollster, sponsor, population, party, subject, text, url
## dbl  (5): sample_size, very, somewhat, not_very, not_at_all
## lgl  (1): tracking
## date (2): start_date, end_date</code></pre>
<pre><code>## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(CovidConcern)</span></code></pre></div>
<pre><code>##    start_date            end_date            pollster        
##  Min.   :2020-01-27   Min.   :2020-01-29   Length:678        
##  1st Qu.:2020-04-13   1st Qu.:2020-04-16   Class :character  
##  Median :2020-05-27   Median :2020-05-31   Mode  :character  
##  Mean   :2020-07-01   Mean   :2020-07-04                     
##  3rd Qu.:2020-09-02   3rd Qu.:2020-09-06                     
##  Max.   :2021-04-17   Max.   :2021-04-20                     
##                                                              
##    sponsor           sample_size     population           party          
##  Length:678         Min.   :  502   Length:678         Length:678        
##  Class :character   1st Qu.: 1002   Class :character   Class :character  
##  Mode  :character   Median : 1031   Mode  :character   Mode  :character  
##                     Mean   : 2803                                        
##                     3rd Qu.: 1959                                        
##                     Max.   :91214                                        
##                                                                          
##    subject           tracking           text                very      
##  Length:678         Mode :logical   Length:678         Min.   : 8.00  
##  Class :character   FALSE:538       Class :character   1st Qu.:27.00  
##  Mode  :character   TRUE :140       Mode  :character   Median :35.00  
##                                                        Mean   :37.56  
##                                                        3rd Qu.:47.00  
##                                                        Max.   :73.00  
##                                                                       
##     somewhat        not_very       not_at_all         url           
##  Min.   :19.00   Min.   : 2.00   Min.   : 1.000   Length:678        
##  1st Qu.:32.00   1st Qu.:11.00   1st Qu.: 4.000   Class :character  
##  Median :35.00   Median :17.49   Median : 8.320   Mode  :character  
##  Mean   :34.73   Mean   :17.46   Mean   : 8.801                     
##  3rd Qu.:38.00   3rd Qu.:23.00   3rd Qu.:12.100                     
##  Max.   :48.00   Max.   :43.00   Max.   :29.000                     
##  NA&#39;s   :1                       NA&#39;s   :7</code></pre>
</div>
<div id="covid-concern-data" class="section level2">
<h2>Covid Concern Data</h2>
<p>Selected data. set end_date as x axis. Plot points for each concern level</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>ConcernedDots<span class="ot">&lt;-</span>CovidConcern<span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(end_date, very, somewhat, not_very, not_at_all)<span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>end_date))<span class="sc">+</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="st">&quot;0&quot;</span>,<span class="st">&quot;25&quot;</span>,<span class="st">&quot;50&quot;</span>))<span class="sc">+</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">y=</span>very), <span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)<span class="sc">+</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">y=</span>somewhat), <span class="at">color=</span><span class="st">&quot;orange&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)<span class="sc">+</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">y=</span>not_very), <span class="at">color=</span><span class="st">&quot;blue&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)<span class="sc">+</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">y=</span>not_at_all), <span class="at">color=</span><span class="st">&quot;purple&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)</span></code></pre></div>
<p>Add lines? Try stat_smooth</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>CovidConcern<span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(end_date, very, somewhat, not_very, not_at_all)<span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>end_date))<span class="sc">+</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>very), <span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)<span class="sc">+</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>somewhat), <span class="at">color=</span><span class="st">&quot;orange&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)<span class="sc">+</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>not_very), <span class="at">color=</span><span class="st">&quot;blue&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)<span class="sc">+</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>not_at_all), <span class="at">color=</span><span class="st">&quot;purple&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)<span class="sc">+</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_smooth</span>(<span class="fu">aes</span>(<span class="at">y=</span>very), <span class="at">color=</span><span class="st">&quot;red&quot;</span>,<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>)<span class="sc">+</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_smooth</span>(<span class="fu">aes</span>(<span class="at">y=</span>somewhat), <span class="at">color=</span><span class="st">&quot;orange&quot;</span>,<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>)<span class="sc">+</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_smooth</span>(<span class="fu">aes</span>(<span class="at">y=</span>not_very), <span class="at">color=</span><span class="st">&quot;blue&quot;</span>,<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>)<span class="sc">+</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_smooth</span>(<span class="fu">aes</span>(<span class="at">y=</span>not_at_all), <span class="at">color=</span><span class="st">&quot;purple&quot;</span>,<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;
## `geom_smooth()` using formula &#39;y ~ x&#39;
## `geom_smooth()` using formula &#39;y ~ x&#39;
## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="visualization_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>Not the right lines… Try adjusting axis scales and then mean lines? Try using stat_summary to get means.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>Viz.Fig<span class="ot">&lt;-</span>CovidConcern<span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(end_date, very, somewhat, not_very, not_at_all)<span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(end_date<span class="sc">&gt;</span><span class="st">&quot;2020-03-01&quot;</span>, end_date<span class="sc">&lt;</span><span class="st">&quot;2021-04-01&quot;</span>, very<span class="sc">&lt;</span><span class="st">&quot;50&quot;</span>)<span class="sc">%&gt;%</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>end_date))<span class="sc">+</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>very), <span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)<span class="sc">+</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>somewhat), <span class="at">color=</span><span class="st">&quot;orange&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)<span class="sc">+</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>not_very), <span class="at">color=</span><span class="st">&quot;blue&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)<span class="sc">+</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>not_at_all), <span class="at">color=</span><span class="st">&quot;purple&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)<span class="sc">+</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;How worried are Americans about infection?&quot;</span>, <span class="at">subtitle =</span> <span class="st">&quot;How concerned Americans say they are that they, someone in their family or someone else </span><span class="sc">\n</span><span class="st"> they know will become infected with the coronavirus&quot;</span>)<span class="sc">+</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title.x=</span> <span class="fu">element_blank</span>(), <span class="at">axis.title.y=</span> <span class="fu">element_blank</span>())<span class="sc">+</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">25</span>,<span class="dv">50</span>), <span class="at">labels =</span> <span class="cf">function</span>(x) <span class="fu">paste0</span>(x <span class="sc">*</span> <span class="dv">1</span>, <span class="st">&#39;%&#39;</span>))<span class="sc">+</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>, <span class="at">date_labels =</span> <span class="st">&quot;%m/%d&quot;</span>)<span class="sc">+</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="fu">aes</span>(<span class="at">y=</span>very),<span class="at">fun=</span><span class="st">&quot;mean&quot;</span>, <span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="at">geom=</span><span class="st">&quot;line&quot;</span>, <span class="at">size=</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="fu">aes</span>(<span class="at">y=</span>somewhat),<span class="at">fun=</span><span class="st">&quot;mean&quot;</span>, <span class="at">color=</span><span class="st">&quot;orange&quot;</span>, <span class="at">geom=</span><span class="st">&quot;line&quot;</span>, <span class="at">size=</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="fu">aes</span>(<span class="at">y=</span>not_very),<span class="at">fun=</span><span class="st">&quot;mean&quot;</span>, <span class="at">color=</span><span class="st">&quot;blue&quot;</span>, <span class="at">geom=</span><span class="st">&quot;line&quot;</span>, <span class="at">size=</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="fu">aes</span>(<span class="at">y=</span>not_at_all),<span class="at">fun=</span><span class="st">&quot;mean&quot;</span>, <span class="at">color=</span><span class="st">&quot;purple&quot;</span>, <span class="at">geom=</span><span class="st">&quot;line&quot;</span>, <span class="at">size=</span><span class="dv">1</span>)</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(Viz.Fig)</span></code></pre></div>
<p><img src="visualization_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>Close! But still not as clean as the original graphic. Also not clear on how to add a legend for the lines…Lines are still a mess and too detailed. ++++++++++++++++++++++++++++++</p>
</div>
<div id="incorporating-feedback" class="section level2">
<h2>Incorporating Feedback</h2>
<p>Submitted to the Slack and got feedback by Dr. Handel and Dawson Dobash:</p>
<ul>
<li>smoothing lines, try loess curve</li>
<li>try for figures with labels on other side, should be able to specify the location.</li>
<li>center and break up title and subtitle</li>
<li>color match graphic lines.</li>
</ul>
<p>###try it out</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>CovidConcern<span class="sc">%&gt;%</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(end_date, very, somewhat, not_very, not_at_all)<span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(end_date<span class="sc">&gt;</span><span class="st">&quot;2020-03-01&quot;</span>, end_date<span class="sc">&lt;</span><span class="st">&quot;2021-04-01&quot;</span>, very<span class="sc">&lt;</span><span class="st">&quot;50&quot;</span>)<span class="sc">%&gt;%</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>end_date))<span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>very), <span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)<span class="sc">+</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>somewhat), <span class="at">color=</span><span class="st">&quot;coral&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)<span class="sc">+</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>not_very), <span class="at">color=</span><span class="st">&quot;plum3&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)<span class="sc">+</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>not_at_all), <span class="at">color=</span><span class="st">&quot;purple&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)<span class="sc">+</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;How worried are Americans about infection?&quot;</span>, <span class="at">subtitle =</span> <span class="st">&quot;How concerned Americans say they are that they, someone in their family or someone else </span><span class="sc">\n</span><span class="st"> they know will become infected with the coronavirus&quot;</span>)<span class="sc">+</span>  </span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title.x=</span> <span class="fu">element_blank</span>(), <span class="at">axis.title.y=</span> <span class="fu">element_blank</span>(), <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>), <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>))<span class="sc">+</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">25</span>,<span class="dv">50</span>), <span class="at">labels =</span> <span class="cf">function</span>(x) <span class="fu">paste0</span>(x <span class="sc">*</span> <span class="dv">1</span>, <span class="st">&#39;%&#39;</span>))<span class="sc">+</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>, <span class="at">date_labels =</span> <span class="st">&quot;%m/%d&quot;</span>)<span class="sc">+</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_linetype_manual</span>(<span class="at">name=</span><span class="fu">c</span>(<span class="st">&quot;Very&quot;</span>, <span class="st">&quot;Somewhat&quot;</span>,<span class="st">&quot;Not Very&quot;</span>, <span class="st">&quot;Not at All&quot;</span>)) <span class="sc">+</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_quantile</span>(<span class="fu">aes</span>(<span class="at">y=</span>very), <span class="at">quantiles=</span><span class="fl">0.75</span>, <span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="at">size=</span><span class="dv">1</span> ,<span class="at">method=</span><span class="st">&quot;rqss&quot;</span>, <span class="at">lambda=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_quantile</span>(<span class="fu">aes</span>(<span class="at">y=</span>somewhat), <span class="at">quantiles=</span><span class="fl">0.75</span>, <span class="at">color=</span><span class="st">&quot;coral&quot;</span>, <span class="at">size=</span><span class="dv">1</span> ,<span class="at">method=</span><span class="st">&quot;rqss&quot;</span>, <span class="at">lambda=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_quantile</span>(<span class="fu">aes</span>(<span class="at">y=</span>not_very), <span class="at">quantiles=</span><span class="fl">0.75</span>, <span class="at">color=</span><span class="st">&quot;plum3&quot;</span>, <span class="at">size=</span><span class="dv">1</span> ,<span class="at">method=</span><span class="st">&quot;rqss&quot;</span>, <span class="at">lambda=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_quantile</span>(<span class="fu">aes</span>(<span class="at">y=</span>not_at_all), <span class="at">quantiles=</span><span class="fl">0.75</span>, <span class="at">color=</span><span class="st">&quot;purple&quot;</span>, <span class="at">size=</span><span class="dv">1</span> ,<span class="at">method=</span><span class="st">&quot;rqss&quot;</span>, <span class="at">lambda=</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>## Smoothing formula not specified. Using: y ~ qss(x, lambda = 2)
## Smoothing formula not specified. Using: y ~ qss(x, lambda = 2)
## Smoothing formula not specified. Using: y ~ qss(x, lambda = 2)
## Smoothing formula not specified. Using: y ~ qss(x, lambda = 2)</code></pre>
<p><img src="visualization_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>NOTE:</p>
<ul>
<li>geom_smooth was too smooth.</li>
<li>utilized geom_quantile and adjusted quantiles to show only 1 line and changed the lambda values.</li>
<li>color matched the lines with some <a href="http://sape.inf.usi.ch/quick-reference/ggplot2/colour">“predefined R colors”</a>.</li>
</ul>
</div>
<div id="adding-lables-on-the-graphic" class="section level2">
<h2>Adding Lables on the graphic</h2>
<ul>
<li>Looked at Morgan Taylor’s visualization code for example.</li>
</ul>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(directlabels)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(grid)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co">#p&lt;-</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>CovidConcern<span class="sc">%&gt;%</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(end_date, very, somewhat, not_very, not_at_all)<span class="sc">%&gt;%</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(end_date<span class="sc">&gt;</span><span class="st">&quot;2020-03-01&quot;</span>, end_date<span class="sc">&lt;</span><span class="st">&quot;2021-04-01&quot;</span>, very<span class="sc">&lt;</span><span class="st">&quot;50&quot;</span>)<span class="sc">%&gt;%</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>end_date))<span class="sc">+</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>very), <span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)<span class="sc">+</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>somewhat), <span class="at">color=</span><span class="st">&quot;coral&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)<span class="sc">+</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>not_very), <span class="at">color=</span><span class="st">&quot;plum3&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)<span class="sc">+</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>not_at_all), <span class="at">color=</span><span class="st">&quot;purple&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)<span class="sc">+</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;How worried are Americans about infection?&quot;</span>, <span class="at">subtitle =</span> <span class="st">&quot;How concerned Americans say they are that they, someone in their family or someone else </span><span class="sc">\n</span><span class="st"> they know will become infected with the coronavirus&quot;</span>)<span class="sc">+</span>  </span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title.x=</span> <span class="fu">element_blank</span>(), <span class="at">axis.title.y=</span> <span class="fu">element_blank</span>(), <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>), <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>))<span class="sc">+</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">25</span>,<span class="dv">50</span>), <span class="at">labels =</span> <span class="cf">function</span>(x) <span class="fu">paste0</span>(x <span class="sc">*</span> <span class="dv">1</span>, <span class="st">&#39;%&#39;</span>))<span class="sc">+</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>, <span class="at">date_labels =</span> <span class="st">&quot;%m/%d&quot;</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="fl">0.001</span>,<span class="dv">75</span>))<span class="sc">+</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_linetype_manual</span>(<span class="at">name=</span><span class="fu">c</span>(<span class="st">&quot;Very&quot;</span>, <span class="st">&quot;Somewhat&quot;</span>,<span class="st">&quot;Not Very&quot;</span>, <span class="st">&quot;Not at All&quot;</span>)) <span class="sc">+</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_quantile</span>(<span class="fu">aes</span>(<span class="at">y=</span>very), <span class="at">quantiles=</span><span class="fl">0.75</span>, <span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="at">size=</span><span class="dv">1</span> ,<span class="at">method=</span><span class="st">&quot;rqss&quot;</span>, <span class="at">lambda=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_quantile</span>(<span class="fu">aes</span>(<span class="at">y=</span>somewhat), <span class="at">quantiles=</span><span class="fl">0.75</span>, <span class="at">color=</span><span class="st">&quot;coral&quot;</span>, <span class="at">size=</span><span class="dv">1</span> ,<span class="at">method=</span><span class="st">&quot;rqss&quot;</span>, <span class="at">lambda=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_quantile</span>(<span class="fu">aes</span>(<span class="at">y=</span>not_very), <span class="at">quantiles=</span><span class="fl">0.75</span>, <span class="at">color=</span><span class="st">&quot;plum3&quot;</span>, <span class="at">size=</span><span class="dv">1</span> ,<span class="at">method=</span><span class="st">&quot;rqss&quot;</span>, <span class="at">lambda=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_quantile</span>(<span class="fu">aes</span>(<span class="at">y=</span>not_at_all), <span class="at">quantiles=</span><span class="fl">0.75</span>, <span class="at">color=</span><span class="st">&quot;purple&quot;</span>, <span class="at">size=</span><span class="dv">1</span> ,<span class="at">method=</span><span class="st">&quot;rqss&quot;</span>, <span class="at">lambda=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="at">x=</span><span class="fu">as.Date</span>(<span class="st">&quot;2021-04-01&quot;</span>), <span class="at">y=</span><span class="dv">40</span>, <span class="at">label=</span><span class="st">&quot;32.4% Somewhat&quot;</span>, <span class="at">color=</span><span class="st">&quot;coral&quot;</span>, <span class="at">hjust=</span><span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="at">x=</span><span class="fu">as.Date</span>(<span class="st">&quot;2021-04-01&quot;</span>), <span class="at">y=</span><span class="dv">33</span>, <span class="at">label=</span><span class="st">&quot;26.1% Not very&quot;</span>, <span class="at">color=</span><span class="st">&quot;plum3&quot;</span>, <span class="at">hjust=</span><span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="at">x=</span><span class="fu">as.Date</span>(<span class="st">&quot;2021-04-01&quot;</span>), <span class="at">y=</span><span class="dv">23</span>, <span class="at">label=</span><span class="st">&quot;16.5% Not at all&quot;</span>, <span class="at">color=</span><span class="st">&quot;purple&quot;</span>, <span class="at">hjust=</span><span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="at">x=</span><span class="fu">as.Date</span>(<span class="st">&quot;2021-04-01&quot;</span>), <span class="at">y=</span><span class="dv">17</span>, <span class="at">label=</span><span class="st">&quot;24.4% Very&quot;</span>, <span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="at">hjust=</span><span class="dv">0</span>)</span></code></pre></div>
<pre><code>## Smoothing formula not specified. Using: y ~ qss(x, lambda = 2)
## Smoothing formula not specified. Using: y ~ qss(x, lambda = 2)
## Smoothing formula not specified. Using: y ~ qss(x, lambda = 2)
## Smoothing formula not specified. Using: y ~ qss(x, lambda = 2)</code></pre>
<p><img src="visualization_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Code to turn off clipping</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co">#gt &lt;- ggplotGrob(p)</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co">#gt$layout$clip[gt1$layout$name == &quot;panel&quot;] &lt;- &quot;off&quot;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co">#grid.draw(gt)</span></span></code></pre></div>
<p>tried the grid to extend the x axsis, but could not get grid.draw to run. *interesting to note the annotated text doesn’t follow the</p>
<p>================</p>
<p>Try directlabels</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(directlabels)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyquant)</span></code></pre></div>
<pre><code>## Loading required package: PerformanceAnalytics</code></pre>
<pre><code>## Loading required package: xts</code></pre>
<pre><code>## Loading required package: zoo</code></pre>
<pre><code>## 
## Attaching package: &#39;zoo&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     as.Date, as.Date.numeric</code></pre>
<pre><code>## 
## Attaching package: &#39;xts&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:dplyr&#39;:
## 
##     first, last</code></pre>
<pre><code>## 
## Attaching package: &#39;PerformanceAnalytics&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:graphics&#39;:
## 
##     legend</code></pre>
<pre><code>## Loading required package: quantmod</code></pre>
<pre><code>## Loading required package: TTR</code></pre>
<pre><code>## 
## Attaching package: &#39;TTR&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:dials&#39;:
## 
##     momentum</code></pre>
<pre><code>## Registered S3 method overwritten by &#39;quantmod&#39;:
##   method            from
##   as.zoo.data.frame zoo</code></pre>
<pre><code>## == Need to Learn tidyquant? ====================================================
## Business Science offers a 1-hour course - Learning Lab #9: Performance Analysis &amp; Portfolio Optimization with tidyquant!
## &lt;/&gt; Learn more at: https://university.business-science.io/p/learning-labs-pro &lt;/&gt;</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(grid)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>CovidConcern<span class="sc">%&gt;%</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(end_date, very, somewhat, not_very, not_at_all)<span class="sc">%&gt;%</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(end_date<span class="sc">&gt;</span><span class="st">&quot;2020-03-01&quot;</span>, end_date<span class="sc">&lt;</span><span class="st">&quot;2021-04-01&quot;</span>, very<span class="sc">&lt;</span><span class="st">&quot;50&quot;</span>)<span class="sc">%&gt;%</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>end_date))<span class="sc">+</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>very), <span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)<span class="sc">+</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>somewhat), <span class="at">color=</span><span class="st">&quot;coral&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)<span class="sc">+</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>not_very), <span class="at">color=</span><span class="st">&quot;plum3&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)<span class="sc">+</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>not_at_all), <span class="at">color=</span><span class="st">&quot;purple&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)<span class="sc">+</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;How worried are Americans about infection?&quot;</span>, <span class="at">subtitle =</span> <span class="st">&quot;How concerned Americans say they are that they, someone in their family or someone else </span><span class="sc">\n</span><span class="st"> they know will become infected with the coronavirus&quot;</span>)<span class="sc">+</span>  </span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title.x=</span> <span class="fu">element_blank</span>(), <span class="at">axis.title.y=</span> <span class="fu">element_blank</span>(), <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>), <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>))<span class="sc">+</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">25</span>,<span class="dv">50</span>), <span class="at">labels =</span> <span class="cf">function</span>(x) <span class="fu">paste0</span>(x <span class="sc">*</span> <span class="dv">1</span>, <span class="st">&#39;%&#39;</span>))<span class="sc">+</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>, <span class="at">date_labels =</span> <span class="st">&quot;%m/%d&quot;</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="fl">0.0001</span>,<span class="dv">90</span>))<span class="sc">+</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_linetype_manual</span>(<span class="at">name=</span><span class="fu">c</span>(<span class="st">&quot;Very&quot;</span>, <span class="st">&quot;Somewhat&quot;</span>,<span class="st">&quot;Not Very&quot;</span>, <span class="st">&quot;Not at All&quot;</span>)) <span class="sc">+</span></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_quantile</span>(<span class="fu">aes</span>(<span class="at">y=</span>very), <span class="at">quantiles=</span><span class="fl">0.75</span>, <span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="at">size=</span><span class="dv">1</span> ,<span class="at">method=</span><span class="st">&quot;rqss&quot;</span>, <span class="at">lambda=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_quantile</span>(<span class="fu">aes</span>(<span class="at">y=</span>somewhat), <span class="at">quantiles=</span><span class="fl">0.75</span>, <span class="at">color=</span><span class="st">&quot;coral&quot;</span>, <span class="at">size=</span><span class="dv">1</span> ,<span class="at">method=</span><span class="st">&quot;rqss&quot;</span>, <span class="at">lambda=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_quantile</span>(<span class="fu">aes</span>(<span class="at">y=</span>not_very), <span class="at">quantiles=</span><span class="fl">0.75</span>, <span class="at">color=</span><span class="st">&quot;plum3&quot;</span>, <span class="at">size=</span><span class="dv">1</span> ,<span class="at">method=</span><span class="st">&quot;rqss&quot;</span>, <span class="at">lambda=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_quantile</span>(<span class="fu">aes</span>(<span class="at">y=</span>not_at_all), <span class="at">quantiles=</span><span class="fl">0.75</span>, <span class="at">color=</span><span class="st">&quot;purple&quot;</span>, <span class="at">size=</span><span class="dv">1</span> ,<span class="at">method=</span><span class="st">&quot;rqss&quot;</span>, <span class="at">lambda=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_dl</span>(<span class="fu">aes</span>(<span class="at">y=</span> somewhat,<span class="at">label =</span> <span class="st">&quot;32.4% Somewhat&quot;</span>, <span class="at">color=</span><span class="st">&quot;coral&quot;</span>), <span class="at">method =</span> <span class="fu">list</span>(<span class="fu">dl.trans</span>(<span class="at">x =</span> x <span class="sc">+</span> <span class="fl">0.2</span>), <span class="st">&quot;last.points&quot;</span>))<span class="sc">+</span></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_dl</span>(<span class="fu">aes</span>(<span class="at">y=</span> not_very,<span class="at">label =</span> <span class="st">&quot;26.1% Not Very&quot;</span>, <span class="at">color=</span><span class="st">&quot;plum3&quot;</span>), <span class="at">method =</span> <span class="fu">list</span>(<span class="fu">dl.trans</span>(<span class="at">x =</span> x <span class="sc">+</span> <span class="fl">0.2</span>), <span class="st">&quot;last.points&quot;</span>))<span class="sc">+</span></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_dl</span>(<span class="fu">aes</span>(<span class="at">y=</span> not_at_all,<span class="at">label =</span> <span class="st">&quot;16.5% Not at All&quot;</span>, <span class="at">color=</span><span class="st">&quot;purple&quot;</span>), <span class="at">method =</span> <span class="fu">list</span>(<span class="fu">dl.trans</span>(<span class="at">x =</span> x <span class="sc">+</span> <span class="fl">0.2</span>), <span class="st">&quot;last.points&quot;</span>))<span class="sc">+</span></span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_dl</span>(<span class="fu">aes</span>(<span class="at">y=</span> very,<span class="at">label =</span> <span class="st">&quot;24.4% Very&quot;</span>, <span class="at">color=</span><span class="st">&quot;red&quot;</span>), <span class="at">method =</span> <span class="fu">list</span>(<span class="fu">dl.trans</span>(<span class="at">x =</span> x <span class="sc">+</span> <span class="fl">0.2</span>), <span class="st">&quot;last.points&quot;</span>))</span></code></pre></div>
<pre><code>## Smoothing formula not specified. Using: y ~ qss(x, lambda = 2)</code></pre>
<pre><code>## Smoothing formula not specified. Using: y ~ qss(x, lambda = 2)
## Smoothing formula not specified. Using: y ~ qss(x, lambda = 2)
## Smoothing formula not specified. Using: y ~ qss(x, lambda = 2)</code></pre>
<p><img src="visualization_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>Interesting the resulting labels have odd color choices, half of them are correct the other… not so much.</p>
<div id="concluding-thoughts" class="section level3">
<h3>Concluding thoughts</h3>
<p>The data is all there and the dotplot wasn’t too difficult. I need more clues on what kind of smoothing was applied to the lines. There are certain trends that are visable from my reproduction but it’s not exact.</p>
<p>There are some additional quick aesthetic choices I think I could have made, but I wasn’t prioritizing them as much as more of the overall look of the graphic.</p>
<p>I enjoyed learning about annotating and appreciate the direction my peers gave me to look into the annotation ability. I knew there was within R’s capabilities but never tried using it as it seemed very complicated. I’ve got a bit of ways to go when it comes to really cleaning up the graphics but I also got to learn about how to utilize dates in ggplot. This will be useful in helping some of my peers when they do persistence studies and can utilize their summarized experimental run data to plug into something.</p>
</div>
<div id="final-comparisons" class="section level3">
<h3>Final comparisons</h3>
<p>Below is the Original graphic I am trying to replicate.</p>
<div class="figure">
<img src="https://github.com/MoChan2021/MonicaChan-MADA-portfolio/blob/49be3a10e92fe5470b78c0c8321bedd201e3d8ad/OrigViz.png?raw=TRUE" alt="" />
<p class="caption">Original Graphic</p>
</div>
<p>Below is the better revised attempt at replication.</p>
<div class="figure">
<img src="https://github.com/MoChan2021/MonicaChan-MADA-portfolio/blob/352d0a75e228fed5cbfecfbc5887d6f2b7b614b7/docs/P1.png?raw=TRUE" alt="" />
<p class="caption">Replication of graphic using</p>
</div>
</div>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
